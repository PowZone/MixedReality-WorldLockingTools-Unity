<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>WLT+ASA Overview of supporting software | World Locking Tools for Unity Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="WLT+ASA Overview of supporting software | World Locking Tools for Unity Documentation ">
    <meta name="generator" content="docfx 2.59.2.0">
    
    <link rel="shortcut icon" href="../../../../DocGen/Images/Logos/favicon.ico">
    <link rel="stylesheet" href="../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
    
    <meta property="docfx:rel" content="../../../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" class="svg" src="../../../../DocGen/Images/Logos/WorldLock64.png" alt="">
              </a>
            </div>
          
          <div class="version-dropdown" id="versionDropdown">
           </div>
         
          <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
          <div class="navbar alert-navbar">
          <div class="container">
              <div class="alert-navbar-message">
                <h5>WLT documentation has moved.</h5>
                <p>We are publishing both conceptual docs and API references on docs.microsoft.com. For conceptual docs, please visit <a href="https://docs.microsoft.com/mixed-reality/world-locking-tools/">our new landing page</a>. For API references, please visit <a href="https://docs.microsoft.com/dotnet/api/microsoft.mixedreality.worldlocking.core">the Core WLT section of the dot net API explorer</a> and related pages. Existing content will remain here but will not be updated further.</p>
            </div>
          </div>
          </div>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="wltasa-overview-of-supporting-software">WLT+ASA: Overview of supporting software</h1>

<h2 id="ibinder---binding-spacepins-to-azure-spatial-anchors"><code>IBinder</code> - binding SpacePins to Azure Spatial Anchors</h2>
<p>The <a class="xref" href="../../../Temp/api/Microsoft.MixedReality.WorldLocking.ASA.IBinder.html"><code>IBinder</code></a> interface is at the center, implemented here by the <a class="xref" href="../../../Temp/api/Microsoft.MixedReality.WorldLocking.ASA.SpacePinBinder.html">SpacePinBinder class</a>. The SpacePinBinder is a Unity Monobehaviour, and may be configured either from Unity's Inspector or from script.</p>
<p>Each <code>IBinder</code> is <a class="xref" href="../../../Temp/api/Microsoft.MixedReality.WorldLocking.ASA.IBinder.html#Microsoft_MixedReality_WorldLocking_ASA_IBinder_Name">named</a>, so a single <a class="xref" href="../../../Temp/api/Microsoft.MixedReality.WorldLocking.ASA.IBindingOracle.html"><code>IBindingOracle</code></a> can manage bindings for multiple <code>IBinder</code>s.</p>
<h2 id="ipublisher---reading-and-writing-spatial-anchors-to-the-cloud"><code>IPublisher</code> - reading and writing spatial anchors to the cloud</h2>
<p>The <a class="xref" href="../../../Temp/api/Microsoft.MixedReality.WorldLocking.ASA.IPublisher.html"><code>IPublisher</code></a> interface handles publishing spatial anchors to the cloud, and then retrieving them in later sessions or on other devices. <code>IPublisher</code> is implemented here with the <a class="xref" href="../../../Temp/api/Microsoft.MixedReality.WorldLocking.ASA.PublisherASA.html">PublisherASA class</a>. Pose data in the current physical space is captured and retrieved using Azure Spatial Anchors.</p>
<p>When a spatial anchor is published, a cloud anchor ID is obtained. This ID may be used in later sessions or on other devices to retrieve the cloud anchor's pose in the current coordinate system, along with any properties stored with it. The system always adds a property identifying the cloud anchor's associated SpacePin.</p>
<p>It should be noted that the <code>IPublisher</code>, and the PublisherASA, don't know anything about SpacePins. <code>IPublisher</code> doesn't know or care what will be done with the cloud anchor data. It provides a simplified awaitable interface for publishing and retrieving cloud anchors.</p>
<h3 id="read-versus-find">Read versus Find</h3>
<p>If a cloud anchor's ID is known, the cloud anchor may be retrieved by its ID. This method is the most robust way to retrieve a cloud anchor. The method is <a class="xref" href="../../../Temp/api/Microsoft.MixedReality.WorldLocking.ASA.IPublisher.html#Microsoft_MixedReality_WorldLocking_ASA_IPublisher_Read_">Read</a>.</p>
<p>However, there are interesting scenarios in which the IDs for the cloud anchors within an area aren't known by a device, but if they cloud anchors could be retrieved, their spatial data and properties would combine to provide enough information to make them useful.</p>
<p><a class="xref" href="../../../Temp/api/Microsoft.MixedReality.WorldLocking.ASA.IPublisher.html#Microsoft_MixedReality_WorldLocking_ASA_IPublisher_Find_">Find</a> searches the area around a device for cloud anchors, and returns any that it was able to identify. This process is known as <a href="https://docs.microsoft.com/azure/spatial-anchors/how-tos/set-up-coarse-reloc-unity">coarse relocation</a>.</p>
<h2 id="ibindingoracle---sharing-cloud-anchor-ids">IBindingOracle - sharing cloud anchor IDs</h2>
<p>The <a class="xref" href="../../../Temp/api/Microsoft.MixedReality.WorldLocking.ASA.IBindingOracle.html">IBindingOracle interface</a> provides a means of persisting and sharing bindings between SpacePins and specific cloud anchors. Specifically, it persists space-pin-ID/cloud-anchor-ID pairs, along with the name of the <code>IBinder</code>.</p>
<p>The oracle's interface is extremely simple. Given an <code>IBinder</code>, it can either <a class="xref" href="../../../Temp/api/Microsoft.MixedReality.WorldLocking.ASA.IBindingOracle.html#Microsoft_MixedReality_WorldLocking_ASA_IBindingOracle_Put_">Put</a> the <code>IBinder</code>'s bindings, or it can <a class="xref" href="../../../Temp/api/Microsoft.MixedReality.WorldLocking.ASA.IBindingOracle.html#Microsoft_MixedReality_WorldLocking_ASA_IBindingOracle_Get_">Get</a> them. Put stores them, and Get retrieves them. The mechanism of storage and retrieval is left to the implementation of the concrete class implementing the IBindingOracle interface.</p>
<p>This sample implements possibly the simplest possible IBindingOracle, in the form of the <a class="xref" href="../../../Temp/api/Microsoft.MixedReality.WorldLocking.ASA.SpacePinBinder.html">SpacePinBinderFile class</a>. On Put, it writes the <code>IBinder</code>'s bindings to a text file. On Get, it reads them from the text file (if available) and feeds them into the <code>IBinder</code>.</p>
<h2 id="ilocalpeg---blob-marking-a-position-in-physical-space">ILocalPeg - blob marking a position in physical space</h2>
<p>The <a class="xref" href="../../../Temp/api/Microsoft.MixedReality.WorldLocking.ASA.ILocalPeg.html">ILocalPeg interface</a> is an abstraction of a device local anchor. In a more perfect world, the required ILocalPegs would be internally managed by the <code>IPublisher</code>. However, device local anchors work much better when created while the device is in the vicinity of the anchor's pose. The <code>IPublisher</code> only knows where the device local anchors should be placed when they are needed, not at the optimal time of creating them.</p>
<p>The <a class="xref" href="../../../Temp/api/Microsoft.MixedReality.WorldLocking.ASA.SpacePinASA.html">SpacePinASA</a> does know when the best time to create its local anchor is. When the manipulation of the SpacePin ends and its pose set, the SpacePinASA requests the <code>IPublisher</code> to <a class="xref" href="../../../Temp/api/Microsoft.MixedReality.WorldLocking.ASA.IPublisher.html#Microsoft_MixedReality_WorldLocking_ASA_IPublisher_CreateLocalPeg_">create an opaque local peg</a> at the desired pose. The SpacePinBinder then pulls the ILocalPeg off the SpacePinASA, and passes it to the <code>IPublisher</code> to be used in <a class="xref" href="../../../Temp/api/Microsoft.MixedReality.WorldLocking.ASA.IPublisher.html#Microsoft_MixedReality_WorldLocking_ASA_IPublisher_Create_">creating a cloud spatial anchor</a>.</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="WLT_ASA_Sample.html">WLT+ASA Samples Setup and Walkthrough</a></li>
<li><a href="../../Concepts/Advanced/SpacePins.html">Space Pins Concepts</a></li>
<li><a href="SpacePin.html">Space Pins Sample</a></li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/Microsoft/MixedReality-WorldLockingTools-Unity/blob/master/DocGen/Documentation/HowTos/Samples/WLT_ASA_Software.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>
