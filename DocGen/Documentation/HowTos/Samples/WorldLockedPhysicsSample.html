<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>World Locked Physics Sample | World Locking Tools for Unity Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="World Locked Physics Sample | World Locking Tools for Unity Documentation ">
    <meta name="generator" content="docfx 2.59.0.0">
    
    <link rel="shortcut icon" href="../../../../DocGen/Images/Logos/favicon.ico">
    <link rel="stylesheet" href="../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
    
    <meta property="docfx:rel" content="../../../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" class="svg" src="../../../../DocGen/Images/Logos/WorldLock64.png" alt="">
              </a>
            </div>
          
          <div class="version-dropdown" id="versionDropdown">
           </div>
         
          <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
          <div class="navbar alert-navbar">
          <div class="container">
              <div class="alert-navbar-message">
                <h5>WLT documentation has moved.</h5>
                <p>We are publishing both conceptual docs and API references on docs.microsoft.com. For conceptual docs, please visit <a href="https://docs.microsoft.com/mixed-reality/world-locking-tools/">our new landing page</a>. For API references, please visit <a href="https://docs.microsoft.com/dotnet/api/microsoft.mixedreality.worldlocking.core">the Core WLT section of the dot net API explorer</a> and related pages. Existing content will remain here but will not be updated further.</p>
            </div>
          </div>
          </div>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="world-locked-physics-sample">World Locked Physics Sample.</h1>

<p>The Physics Beam Sample offers a few virtual physics experiences that are enabled by World Locking Tools' world locked coordinate system.</p>
<h2 id="back-story">Back story</h2>
<p>On HoloLens, the relationship between a spatial anchor and the head or other spatial anchors may change at any time, because of incoming sensor data, or even reprocessing of existing data.</p>
<p>Unity's spatial anchors react to changes in the underlying spatial anchor's pose by dragging the attached GameObject along with it. This movement causes difficulties for physics simulation:</p>
<ul>
<li>Because the spatial anchored GameObject's pose is explicitly set by the spatial anchor each frame, it can't be set by simulation (for example, momentum).</li>
<li>Because the spatial anchor is frequently updating its GameObject's pose, it will not appear to be at rest relative to other still RigidBodies.</li>
<li>Because of implicit shifts of Unity's coordinate system, as spatial anchors adjust the coordinates of static Holograms to keep them fixed relative to the real world, physics computations such as routes and trajectories will be off. For example, a projectile perfectly aimed at a Hologram will still miss if the Hologram is repositioned by its spatial anchor in between the trajectory computation and it reaching the target.</li>
</ul>
<p>When the relationships between measured spatial anchors and the visible virtual objects locked to them becomes inconsistent, then rather than adjusting the virtual objects as Unity's spatial anchors do, World Locking Tools adjusts the head transform to minimize perceived artifacts from those inconsistencies. This allows the virtual objects to appear consistent in a stable coordinate space, eliminating the above issues.</p>
<h2 id="building-the-sample">Building the sample</h2>
<p>The sample requires the SpatialPerception capability. The Microphone capability is also required for voice commands.</p>
<p>This sample requires that the following layers be added to the project's Tags &amp; Layers:</p>
<ul>
<li>Pillared</li>
<li>SpatialMapping</li>
</ul>
<h2 id="running-the-demo">Running the demo</h2>
<h3 id="the-controls-hud">The controls HUD</h3>
<p>This basic HUD isn't specific to this Physics Beam Sample, but only allows runtime control of World Locking Tools' behavior to explore its capabilities. It's available as a drop-in for development on any application using World Locking Tools, as described in World Locking Tools' <a href="../InitialSetup.html">Initial Setup</a>.</p>
<p><img src="../../../Images/Screens/ControlsHud.jpg" alt="Screenshot of the samples HUD"></p>
<p><a href="../Tools.html#additional-output">Diagnostic statistics</a> are displayed by default, but can be disabled from the Control HUD.</p>
<h3 id="the-modes-radio-buttons">The modes radio buttons</h3>
<p>At any given time, the sample can be in any one of the following modes:</p>
<ul>
<li><p>Idle - The physics sample isn't currently processing input. The HUD and radio button menu, of course, continue processing inputs.</p>
</li>
<li><p>Throw Dart - A trajectory is computed, based on basic physics laws, and displayed. The displayed arc shows the path a projectile fired (via select gesture) will follow. The thrown dart will follow a ballistic trajectory, bouncing off of any collision surfaces, including Spatial Reconstruction (SR) meshes, that it impacts.</p>
<p>These Darts are &quot;removable&quot;, as described below.</p>
</li>
<li><p>Add Pillars - On a select gesture, a ray is cast into the world in the indicated direction. If it finds a collidable surface, a vertical pillar is added to the scene there.</p>
<p>Every Pillar added is collidable, and can serve as a beam support, as described below. However, there are two flavors of Pillars added:</p>
<ul>
<li>If the pillar is set upon a &quot;removable&quot; surface, then the pillar is physically simulated (for example, can be knocked over).</li>
<li>Else the pillar collidable, but static.</li>
</ul>
<p>Effectively, this rule means if a pillar is added on the SR mesh, it will be static, but otherwise it will be dynamic.</p>
<p>Pillars are &quot;removable&quot;.</p>
</li>
<li><p>Add Beam - On first select, a ray is cast into the scene to find the first endpoint of the beam. After that, as the selection ray is moved through the scene, a line is drawn from the first endpoint to the current endpoint. The second select gesture will create a beam stretching between the first and current endpoints.</p>
<p>Balancing the Beam with endpoints on Pillars clearly requires a space in which the endpoint Pillars will remain fixed relative to each other.</p>
<p>Beams are &quot;removable&quot;.</p>
</li>
<li><p>Remove Objects - On select, if the ray cast object is &quot;removable&quot;, then it's removed from the scene. Any objects being supported by the removed object will then fall.</p>
</li>
</ul>
<h3 id="see-also">See also</h3>
<p><a class="xref" href="../../../Temp/api/Microsoft.MixedReality.WorldLocking.Examples.PhysicsBeamSample.html">class PhysicsBeamSample</a>.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/Microsoft/MixedReality-WorldLockingTools-Unity/blob/master/DocGen/Documentation/HowTos/Samples/WorldLockedPhysicsSample.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>
